<main class="main_users">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-12 col-sm-12 col-md-12 col-lg-12">
				
				<div *ngIf="isError" id="alertError" class="alert alert-dismissible fade show" role="alert" [ngClass]="{'alert-success': isAlert, 'alert-danger': !isAlert}" >
		          {{message}}
		          <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="closeAlertError()">
		            <span aria-hidden="true">&times;</span>
		          </button>
		        </div>
				<h1 *ngIf="!isError" class="text-center">Lista de Usuarios registrados</h1>
				
				<hr>
				<div class="table-responsive">
					<table class="table">
						<thead class="thead-dark">
							<tr>
								<th scope="col">#</th>
								<th scope="col">Email</th>
								<th scope="col">Descripción</th>
								<th scope="col">Rol</th>
								<th scope="col">Editar</th>
								<th scope="col">Eliminar</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let user of users">
								<th scope="row">
									<button class="btn btn-dark" [routerLink]="['/users/show', user._id]">Ver</button>
								</th>
								<td>{{user.email}}</td>
								<td>{{user.description}}</td>
								<td><span class="badge" [ngClass]="{ 'badge-primary': user.tipo=='cliente', 'badge-success': user.tipo=='miembro', 'badge-dark': user.tipo=='admin' }">{{user.tipo}}</span></td>
								<td><button [routerLink]="['/users/edit', user._id]" class="btn btn-info">Editar</button></td>
								<td><button class="btn btn-danger" data-toggle="modal" data-target="#exampleModal">Eliminar</button></td>
								<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
								  <div class="modal-dialog" role="document">
								    <div class="modal-content">
								      <div class="modal-header">
								        <h5 class="modal-title" id="exampleModalLabel">Confirmación</h5>
								        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
								          <span aria-hidden="true">&times;</span>
								        </button>
								      </div>
								      <div class="modal-body">
								        ¿Estas seguro de eliminar este usuario?
								      </div>
								      <div class="modal-footer">
								        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
								        <button (click)="delete(user._id)" type="button" class="btn btn-primary">Si</button>
								      </div>
								    </div>
								  </div>
								</div>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</main>


<!-- Modal -->
