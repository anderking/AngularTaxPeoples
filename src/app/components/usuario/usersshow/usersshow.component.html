<main class="main_users_show">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-12 col-sm-12 col-md-12 col-lg-12">

				<h2 class="text-center">Datos del usuario</h2>
				<hr>
				
				<div *ngIf="user">

					<div *ngIf="!persona && !empresa">
						<div class="jumbotron jumbotron-fluid">
						  <div class="container">
						    <h2 class="display-4">Este usuario no tiene una persona o empresa asociada</h2>
						  </div>
						</div>
					</div>
					
					<ul class="list-group" *ngIf="persona">
					  <li class="list-group-item active text-center">Información detallada del Usuario</li>
					  <li class="list-group-item"><b>Nombre: </b>{{ persona.name }}</li>
					  <li class="list-group-item"><b>Cédula: </b>{{ persona.cedula }}</li>
					  <li class="list-group-item"><b>Teléfono: </b>{{ persona.telefono }}</li>
					  <li class="list-group-item"><b>Dirección: </b>{{ persona.direccion }}</li>
					  <li class="list-group-item"><b>Estado: </b>{{ persona.estado }}</li>
					  <li class="list-group-item">
					  	<b>Sexo: </b>
					  	<span *ngIf="persona.sexo=='M'">Masculino</span>
					  	<span *ngIf="persona.sexo=='F'">Femenino</span>
					  </li>
					  <li class="list-group-item">
					  	<b>Estado Civil: </b>
					  	<span *ngIf="persona.edoCivil=='S'">Soltero</span>
					  	<span *ngIf="persona.edoCivil=='C'">Casado</span>
					  </li>
					  <li class="list-group-item"><b>Fecha de Nacimiento: </b>{{ persona.fechaNacimiento.split("T")[0] }}</li>
					</ul>
					
					<ul class="list-group" *ngIf="empresa">
					  <li class="list-group-item active text-center">Información detallada del Usuario</li>
					  <li class="list-group-item"><b>Nombre: </b>{{ empresa.name }}</li>
					  <li class="list-group-item"><b>RIF: </b>{{ empresa.rif }}</li>
					  <li class="list-group-item"><b>Teléfono: </b>{{ empresa.telefono }}</li>
					  <li class="list-group-item"><b>Dirección: </b>{{ empresa.direccion }}</li>
					  <li class="list-group-item"><b>Estado: </b>{{ empresa.estado }}</li>
					</ul>
					
					<hr>
					<h2 class="text-center">Publicaciones del Usuario</h2>
					<hr>
					<div class="table-responsive" *ngIf="total>0">
						<table class="table">
							<thead class="thead-dark">
								<tr>
									<th scope="col">#</th>
									<th scope="col">Titulo</th>
									<th scope="col">Descripción</th>
									<th scope="col">Fecha</th>
									<th scope="col">Editar</th>
									<th scope="col">Eliminar</th>
								</tr>
							</thead>
							<tbody>
								<tr *ngFor="let publicationUser of publicationsUser">
									<th scope="row">
										<button class="btn btn-dark" [routerLink]="['/publicaciones/show', publicationUser._id]">Ver</button>
									</th>
									<td>{{publicationUser.title}}</td>
									<td>{{publicationUser.description}}</td>
									<td>{{publicationUser.create_at.split("T")[0]}}</td>
									<td><button [routerLink]="['/users/edit', publicationUser._id]" class="btn btn-info">Editar</button></td>
									<td><button [routerLink]="['/users/delete', publicationUser._id]" class="btn btn-danger">Eliminar</button></td>
								</tr>
							</tbody>
						</table>
					</div>
					
					<div *ngIf="total<=0">
						<div class="jumbotron jumbotron-fluid">
						  <div class="container">
						    <h2 *ngIf="user.tipo=='miembro' || user.tipo=='admin'" class="display-4">Este usuario no tiene publicaciones</h2>
						    <h2 *ngIf="user.tipo=='cliente' || user.tipo==''" class="display-4">Este usuario no esta autorizado para tener publicaciones</h2>
						  </div>
						</div>
					</div>

				</div>
				<hr>
				<button (click)="goBack()" class="btn btn-dark">Regresar</button>

			</div>
		</div>
	</div>
</main>
